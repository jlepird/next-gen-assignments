language: php
php: '7.0'
services:
- postgresql
before_script:
- psql -c 'create database travis_ci_test;' -U postgres
- export DATABASE_URL="travis_ci_test"
- cd bin && ./setupSQL.sh
- cd ..
- travis_retry composer self-update
- travis_retry composer install --no-interaction --prefer-source --dev
script:
- vendor/bin/phpunit --coverage-clover=coverage.xml
after_success:
- bash <(curl -s https://codecov.io/bash)
deploy:
  edge: true
  provider: cloudfoundry
  api: https://api.fr.cloud.gov
  username: cd904f94-d9e7-44b1-ad4c-b9f5fca453fb
  password:
    secure: AGvmF2K5KpmQRQ1C0E5ZsbaqZOZJ2D4QWtWcHln+zMzj5AgR+6JiEXzOld6ziyIhYP/THncQ2Je2Nr7QJG/M09r5Lk+7Lh6ozZX4hkdz5RvKPFSh6P6m2W0F5vEuukqsssFrvB5WEM77HdcEuRWaTEAZziAV4sjJB5PeY2P8dKNaCD9BwvlJuYrBdyQqNyKCylbmw93HpU80FI4h6VSVUdHjS60W3LYpD1zVW3bBSNgrdIH16TTcZy/f2XlE9vbTERyUCgFnCdJTOK10tCYsJGAe9z7XdwK9ZQ8fe+AO3RobNG+Tdru/39TBYN4IHPH56jWNQyaOXdj+PcqpQKqGwdg96CQycXlfWe9TvVdDUAsWCv1qqLtPjV2ZAEYPdGRY3KFuFy0BkbNUPNPLIPFk10sr52Os/bmtIFnBntgnAEB2eMVb6B0UK7xvA1IcttywLgOo9YBg4d54x9uaLoMCiaoiyRgQwMx3R/uapTgDPeFHjwchxeezcg3z8OoHsitS4VQ4FY33VgVFDkgF1g9uuYnhgxVxcc6YRhuACptLeute67p2asyha5809aJY6HZy1qtvKxjEg5ZSKyHrS48ro5Arxk9QNW2raHa1UxEcFf6t6YwJyhzbT18Cs4E43TpHtFhj3d78+GGgR/Men90pc8oO8cNYIpqg1h7SO9FiIBw=  
  organization: sandbox-mail
  space: john.r.lepird.mil
  on:
    repo: jlepird/next-gen-assignments
    all_branches: true